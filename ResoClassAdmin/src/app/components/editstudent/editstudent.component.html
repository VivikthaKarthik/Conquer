<div class="main-wrapper">

    <div class="page-wrapper">
        <div class="content container-fluid">
            <div class="page-header">
                <div class="row align-items-center">
                    <div class="col">
                        <h3 class="page-title">Students</h3>
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a routerLink="/dashboard">Dashboard</a></li>
                            <li class="breadcrumb-item"><a href="students.html">Students</a></li>
                            <li class="breadcrumb-item">Edit Students</li>
                        </ul>
                    </div>
                </div>
            </div>
            <form [formGroup]="studentForm" (ngSubmit)="onSubmit()">
                <div class="row">
                    <div class="col-sm-6 col-md-3">
                        <app-textbox [label]="'Admission Id'" [id]="'admission_id'"
                            [control]="studentForm.controls.admissionId" [ErrorMessage]="'Admission Id is required'"
                            [submitted]="submitted"></app-textbox>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form-group form-focus select-focus">
                            <input type="date" class="form-control floating select-focus" id="admission_date"
                                name="admission_date" formControlName="admissionDate"
                                [ngClass]="{'is-invalid': submitted && studentForm.controls.admissionDate.errors}">
                            <label class="focus-label">Admission Date *</label>
                            <div *ngIf="submitted && studentForm.controls.admissionDate.errors" class="text-danger">
                                <div *ngIf="submitted && studentForm.controls.admissionDate.errors.required">
                                    Admission Date is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form-group form-focus select-focus">
                            <app-textbox [label]="'Student Name'" [id]="'student_name'"
                                [control]="studentForm.controls.studentName" [ErrorMessage]="'Name is required'"
                                [submitted]="submitted"></app-textbox>

                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form-group form-focus select-focus">
                            <app-textbox [label]="'Father Name'" [id]="'father_name'"
                                [control]="studentForm.controls.fatherName" [ErrorMessage]="'FatherName  is required'"
                                [submitted]="submitted"></app-textbox>

                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form-group form-focus select-focus">
                            <app-textbox [label]="'Mother Name'" [id]="'mother_name'"
                                [control]="studentForm.controls.motherName" [ErrorMessage]="'MotherName  is required'"
                                [submitted]="submitted"></app-textbox>

                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form-group form-focus select-focus">
                            <input type="date" class="form-control floating select-focus" id="dob" name="dob" required
                                formControlName="dateofBirth"
                                [ngClass]="{'is-invalid': submitted && studentForm.controls.dateofBirth.errors}">
                            <label class="focus-label">Date Of Birth *</label>
                            <div *ngIf="submitted && studentForm.controls.dateofBirth.errors" class="text-danger">
                                <div *ngIf="submitted && studentForm.controls.dateofBirth.errors.required">
                                    Date of Birth is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form-group form-focus select-focus">
                            <select class="form-control floating" id="gender" name="gender" required
                                formControlName="gender">
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                            <label class="focus-label">Gender *</label>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form-group form-focus select-focus">
                            <input type="number" class="form-control floating select-focus" id="mobile_number"
                                name="mobile_number" formControlName="mobileNumber"
                                [ngClass]="{'is-invalid': submitted && studentForm.controls.mobileNumber.errors}">
                            <label class="focus-label">Mobile Number *</label>
                            <!-- <div *ngIf="submitted && studentForm.controls.mobileNumber.errors" class="text-danger">
                                <div *ngIf="submitted && studentForm.controls.mobileNumber.errors.required">
                                    Mobile Number is required
                                </div>
                            </div> -->
                            <div *ngIf="submitted && studentForm.controls['mobileNumber'].errors?.required"><span
                                    style="color:red"> number is required</span>
                            </div>
                            <div *ngIf="submitted && studentForm.controls['mobileNumber'].errors?.invalidMobileNumber">
                                <span style="color: red;">Invalid mobile number format</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form-group form-focus select-focus">
                            <input type="number" class="form-control floating select-focus" id="alt_mobile_number"
                                formControlName="altMobileNumber" name="alt_mobile_number">
                            <label class="focus-label">Alternate Mobile Number</label>
                            <div *ngIf="submitted && studentForm.controls['altMobileNumber'].errors?.required"><span
                                    style="color:red"> number is required</span>
                            </div>
                            <div
                                *ngIf="submitted && studentForm.controls['altMobileNumber'].errors?.invalidMobileNumber">
                                <span style="color: red;">Invalid Alternative Mobile Number format</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <div class="form-group form-focus select-focus">
                            <input type="email" class="form-control floating select-focus" id="email" name="email"
                                formControlName="email">
                            <label class="focus-label">Email</label>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-3">

                        <app-dropdown [label]="'Course'" [options]="courseData" [id]="'courseId'"
                            [control]="studentForm.controls.courseId" (dropdownOnChange)="getClsByCourseId($event)"
                            [ErrorMessage]="'Course is required'" [submitted]="submitted"></app-dropdown>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <app-dropdown [label]="'Class'" [options]="classData" [id]="'classId'"
                            [control]="studentForm.controls.classId" [ErrorMessage]="'Course is required'"
                            [submitted]="submitted"></app-dropdown>
                    </div>
                    <div class="col-sm-6 col-md-6">
                        <app-textbox [label]="'AddessLane 1'" [id]="'address_line1'"
                            [control]="studentForm.controls.addressLine1" [ErrorMessage]="'AddressLane 1 is required'"
                            [submitted]="submitted"></app-textbox>
                    </div>
                    <div class="col-sm-6 col-md-6">
                        <app-textbox [label]="'AddessLane 2'" [id]="'address_line2'"
                            [control]="studentForm.controls.addressLine2" [ErrorMessage]="'AddressLane 2 is required'"
                            [submitted]="submitted"></app-textbox>
                    </div>
                    <div class="col-sm-6 col-md-6">
                        <app-textbox [label]="'Landmark'" [id]="'landmark'" [control]="studentForm.controls.landMark"
                            [submitted]="submitted"></app-textbox>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <app-dropdown [label]="'State'" [id]="'stateId'" [options]="states"
                            [control]="studentForm.controls.stateId" (dropdownOnChange)="onStateChange($event)"
                            [ErrorMessage]="'State is required'" [submitted]="submitted"></app-dropdown>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <app-dropdown [label]="'City'" [id]="'cityId'" [options]="cities"
                            [control]="studentForm.controls.cityId" [ErrorMessage]="'City is required'"
                            [submitted]="submitted"></app-dropdown>
                    </div>
                    <div class="col-sm-6 col-md-3">
                        <app-textbox [label]="'Pincode'" [id]="'pincode'" [control]="studentForm.controls.pinCode"
                            [submitted]="submitted"></app-textbox>

                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-3">
                        <button class="btn btn-danger btn-block" type="button" onclick="window.history.back();"> Cancel
                        </button>
                    </div>
                    <div class="col-sm-6 col-md-3">

                        <button class="btn btn-success btn-block" type="submit"> Update </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>